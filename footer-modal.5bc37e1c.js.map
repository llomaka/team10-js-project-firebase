{"version":3,"sources":["js/get-refs.js","js/footer-modal.js"],"names":["getRefs","headerRef","document","querySelector","logoRef","headerFormRef","searchBtnRef","homeRef","myLibraryRef","errorWindowRef","changeTheme","themeIcon","libButtons","libWatchedBtn","libQueueBtn","mainRef","filterList","filterBtnDaily","filterBtnWeekly","filterBtnTopRated","filterBtnUpcoming","filterBtnNowPlaying","gallery","loader","movieItemRef","querySelectorAll","footerModalBackdrop","studentsModal","footerCloseBtnRef","addToWatched","addToQueue","movieKey","goTopBtn","galleryList","filmModalBackdrop","filmModalContainer","paginationContainer","filmModalCloseBtn","REFS","onFooterModalOpen","addEventListener","onFooterModalBackdropClick","onFooterModalClose","window","onEscape","classList","remove","setBodyOverflow","removeEventListener","add","e","target","currentTarget","code","value","body","style","overflow","matchMedia","matches"],"mappings":";AA2DC,aAhDc,SAASA,IACf,MAAA,CAGLC,UAAWC,SAASC,cAAc,WAClCC,QAASF,SAASC,cAAc,eAChCE,cAAeH,SAASC,cAAc,kCACtCG,aAAcJ,SAASC,cAAc,iCACrCI,QAASL,SAASC,cAAc,sBAChCK,aAAcN,SAASC,cAAc,4BACrCM,eAAgBP,SAASC,cAAc,oCACvCO,YAAaR,SAASC,cAAc,cACpCQ,UAAWT,SAASC,cAAc,0BAElCS,WAAYV,SAASC,cAAc,sBACnCU,cAAeX,SAASC,cAAc,gBACtCW,YAAaZ,SAASC,cAAc,cAEpCY,QAASb,SAASC,cAAc,QAChCa,WAAYd,SAASC,cAAc,iBACnCc,eAAgBf,SAASC,cAAc,uBACvCe,gBAAiBhB,SAASC,cAAc,wBACxCgB,kBAAmBjB,SAASC,cAAc,4BAC1CiB,kBAAmBlB,SAASC,cAAc,4BAC1CkB,oBAAqBnB,SAASC,cAAc,8BAC5CmB,QAASpB,SAASC,cAAc,YAChCoB,OAAQrB,SAASC,cAAc,WAC/BqB,aAActB,SAASuB,iBAAiB,gBAExCC,oBAAqBxB,SAASC,cAAc,8BAC5CwB,cAAezB,SAASC,cAAc,wBACtCyB,kBAAmB1B,SAASC,cAAc,kCAE1C0B,aAAc3B,SAASC,cAAc,kBACrC2B,WAAY5B,SAASC,cAAc,gBAEnC4B,SAAU,eAEVC,SAAU9B,SAASC,cAAc,WAEjC8B,YAAa/B,SAASC,cAAc,+BACpC+B,kBAAmBhC,SAASC,cAAc,4BAC1CgC,mBAAoBjC,SAASC,cAAc,sCAE3CiC,oBAAqBlC,SAASC,cAAc,gBAE5CkC,kBAAmBnC,SAASC,cAAc,0BAE7C,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,QAAA;;ACNA,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,QAAA,EArDD,IAAA,EAAA,EAAA,QAAA,eAqDC,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GAnDD,MAAMmC,GAAO,EAAb,EAAA,WAKA,SAASC,IACPD,EAAKZ,oBAAoBc,iBAAiB,QAASC,GACnDH,EAAKV,kBAAkBY,iBAAiB,QAASE,GACjDC,OAAOH,iBAAiB,UAAWI,GACnCN,EAAKZ,oBAAoBmB,UAAUC,OAAO,aAC1CC,EAAgB,UAChBT,EAAKN,SAASa,UAAUC,OAAO,QAGjC,SAASJ,IACPJ,EAAKZ,oBAAoBsB,oBAAoB,QAASP,GACtDE,OAAOK,oBAAoB,UAAWJ,GACtCN,EAAKV,kBAAkBoB,oBAAoB,QAASN,GACpDJ,EAAKZ,oBAAoBmB,UAAUI,IAAI,aACvCF,EAAgB,QAgBlB,SAASN,EAA2BS,GAC9BA,EAAEC,SAAWD,EAAEE,eAA4B,WAAXF,EAAEG,MACpCX,IAIW,SAASK,EAAgBO,GACtCpD,SAASqD,KAAKC,MAAMC,SAAWH,EAGjC,SAASV,EAASM,GACD,WAAXA,EAAEG,MACJX,IA7CJJ,EAAKX,cAAca,iBAAiB,QAASD,GAC7CD,EAAKZ,oBAAoBc,iBAAiB,UAAWI,GA0BrDD,OAAOe,WAAW,sBAAsBlB,iBAAiB,SAAUU,IAC5DA,EAAES,UACPrB,EAAKZ,oBAAoBmB,UAAUI,IAAI,aACvCP","file":"footer-modal.5bc37e1c.js","sourceRoot":"../src","sourcesContent":["/*  Создал Богдан тим-лид\n\n  Тут храним все рефы. Импортируете куда вам нужно, добавляйте рефы если нужно еще,\n  делаете себе в файле переменную\n\n      const refs = getRefs();\n\n  и далее используете по стандарту refs.searchBtnRef.addEveventListener()   и тд\n\n*/\n\nexport default function getRefs() {\n  return {\n    // рефи header --- Home ---- My library\n    // ------ HOME --------\n    headerRef: document.querySelector('.header'),\n    logoRef: document.querySelector('.logo__link'),\n    headerFormRef: document.querySelector('[data-form-type=\"search-form\"]'),\n    searchBtnRef: document.querySelector('[data-action=\"search-button\"]'),\n    homeRef: document.querySelector('[data-link=\"home\"]'),\n    myLibraryRef: document.querySelector('[data-link=\"my-library\"]'),\n    errorWindowRef: document.querySelector('[data-errorWindow=\"errorWindow\"]'),\n    changeTheme: document.querySelector('.dark-mode'),\n    themeIcon: document.querySelector('.dark-mode__theme-icon'),\n    //  ------- MY LIBRARY -------\n    libButtons: document.querySelector('.library-btn__item'),\n    libWatchedBtn: document.querySelector('.watched-btn'),\n    libQueueBtn: document.querySelector('.queue-btn'),\n    // рефа тегу <main> з index.html\n    mainRef: document.querySelector('main'),\n    filterList: document.querySelector('.filter__list'),\n    filterBtnDaily: document.querySelector('[data-action=\"day\"]'),\n    filterBtnWeekly: document.querySelector('[data-action=\"week\"]'),\n    filterBtnTopRated: document.querySelector('[data-action=\"topRated\"]'),\n    filterBtnUpcoming: document.querySelector('[data-action=\"upcoming\"]'),\n    filterBtnNowPlaying: document.querySelector('[data-action=\"nowPlaying\"]'),\n    gallery: document.querySelector('.gallery'),\n    loader: document.querySelector('.loader'),\n    movieItemRef: document.querySelectorAll('.movie__item'),\n    // footer related refs // рефи з футера\n    footerModalBackdrop: document.querySelector('[data-footerModalBackdrop]'),\n    studentsModal: document.querySelector('[data-studentsModal]'),\n    footerCloseBtnRef: document.querySelector('[data-action=\"footerCloseBtn\"]'),\n    // посилання кнопок подробиць фільму\n    addToWatched: document.querySelector('.film__watched'),\n    addToQueue: document.querySelector('.film__queue'),\n    // ключ для збереження фільмів у локальному сховищі\n    movieKey: 'currentFilms',\n    // рефа до кнопки наверх\n    goTopBtn: document.querySelector('.btn-up'),\n    // галерея фильму\n    galleryList: document.querySelector('[data-action=\"galleryList\"]'),\n    filmModalBackdrop: document.querySelector('[data-filmModalBackdrop]'),\n    filmModalContainer: document.querySelector('[data-action=\"filmModalContainer\"]'),\n    // рефа pagination\n    paginationContainer: document.querySelector('#pagination2'),\n    // рефа модалки фільму\n    filmModalCloseBtn: document.querySelector('.film__modal-closeBtn'),\n  };\n}\n","import getRefs from './get-refs';\n\nconst REFS = getRefs();\n\nREFS.studentsModal.addEventListener('click', onFooterModalOpen);\nREFS.footerModalBackdrop.addEventListener('keydown', onEscape);\n\nfunction onFooterModalOpen() {\n  REFS.footerModalBackdrop.addEventListener('click', onFooterModalBackdropClick);\n  REFS.footerCloseBtnRef.addEventListener('click', onFooterModalClose);\n  window.addEventListener('keydown', onEscape);\n  REFS.footerModalBackdrop.classList.remove('is-hidden');\n  setBodyOverflow('hidden');\n  REFS.goTopBtn.classList.remove('show');\n}\n\nfunction onFooterModalClose() {\n  REFS.footerModalBackdrop.removeEventListener('click', onFooterModalBackdropClick);\n  window.removeEventListener('keydown', onEscape);\n  REFS.footerCloseBtnRef.removeEventListener('click', onFooterModalClose);\n  REFS.footerModalBackdrop.classList.add('is-hidden');\n  setBodyOverflow('auto');\n\n  // ошибку в консоль выводит, не понимаю что там такое\n  // if (window.pageYOffset > document.documentElement.clientHeight) {\n  //   REFS.goTopBtn.classList.add('show', onFooterModalClose);\n  // }\n}\n\n// Закрываем мобильное меню на более широких экранах\n// в случае изменения ориентации устройства.\nwindow.matchMedia('(min-width: 768px)').addEventListener('change', e => {\n  if (!e.matches) return;\n  REFS.footerModalBackdrop.classList.add('is-hidden');\n  onFooterModalClose();\n});\n\nfunction onFooterModalBackdropClick(e) {\n  if (e.target === e.currentTarget || e.code === 'Escape') {\n    onFooterModalClose();\n  }\n}\n\nexport default function setBodyOverflow(value) {\n  document.body.style.overflow = value;\n}\n\nfunction onEscape(e) {\n  if (e.code === 'Escape') {\n    onFooterModalClose();\n  }\n\n  return;\n}\n"]}